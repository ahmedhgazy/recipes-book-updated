"use strict";(self.webpackChunkrecipes_review=self.webpackChunkrecipes_review||[]).push([[864],{7864:(L,m,s)=>{s.r(m),s.d(m,{ShoppingList:()=>A});var l=s(1076),t=s(9468),g=s(7837),h=s(8547),d=s(2679),u=s(6814),p=s(95);const b=["*"];let _=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment"]],inputs:{recipes:"recipes",totalCost:"totalCost"},ngContentSelectors:b,decls:2,vars:0,consts:[[1,"container","p-0"]],template:function(o,i){1&o&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#0c4160;padding:30px 10px}.card[_ngcontent-%COMP%]{max-width:500px;margin:auto;color:#000;border-radius:20px}p[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]   .h8[_ngcontent-%COMP%]{font-size:30px;font-weight:800;text-align:center}.btn.btn-primary[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 15px;background:linear-gradient(to right,#77a1d3 0%,#79cbca 51%,#77a1d3 100%);border:none;transition:background .5s;background-size:200% auto}.btn.btn-primary[_ngcontent-%COMP%]:hover{background-position:right center;color:#fff;text-decoration:none}.btn.btn-primary[_ngcontent-%COMP%]:hover   .fas.fa-arrow-right[_ngcontent-%COMP%]{transform:translate(15px);transition:transform .2s ease-in}.form-control[_ngcontent-%COMP%]{color:#fff;background-color:#223c60;border:2px solid transparent;height:60px;padding-left:20px;vertical-align:middle}.form-control[_ngcontent-%COMP%]:focus{background-color:#0c4160;border:2px solid #2d4dda;box-shadow:none}.text[_ngcontent-%COMP%], [_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:600}']})}return e})();const x=["amount"],C=["form"];function y(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"there is no items in the list"),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"li",33),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.AsE(" ",n.name," | ",n.amount," ")}}function M(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",22)(1,"h4",23),t._uU(2),t.qZA(),t.TgZ(3,"button",24),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(null==i.modalRef?null:i.modalRef.hide())}),t.TgZ(4,"span",25),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",26)(7,"section",27)(8,"h4",28),t._uU(9,"Ingredients :"),t.qZA(),t._UZ(10,"img",29),t.qZA(),t.TgZ(11,"section")(12,"ul",8),t.YNc(13,v,2,2,"li",30),t.qZA()(),t.TgZ(14,"p",31),t._uU(15," Recipe price : "),t.TgZ(16,"span",32),t._uU(17),t.qZA()()()}if(2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(8),t.Q6J("src",n.imgPath,t.LSH),t.xp6(3),t.Q6J("ngForOf",n.ingredients),t.xp6(4),t.hij(" $",n.price," ")}}function Z(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"li",13)(1,"p",14),t._uU(2),t.qZA(),t.TgZ(3,"div",15),t._UZ(4,"img",16),t.qZA(),t.TgZ(5,"input",17),t.NdJ("ngModelChange",function(i){const c=t.CHM(n).$implicit;return t.KtG(c.amount=i)})("input",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.calcTotalCost())}),t.qZA(),t.TgZ(6,"button",18),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.MAs(11),q=t.oxw(2);return t.KtG(q.openModal(r,c))}),t._uU(7," Preview "),t.qZA(),t.TgZ(8,"button",19),t.NdJ("click",function(){const r=t.CHM(n).index,c=t.oxw(2);return t.KtG(c.removeItem(r))}),t._uU(9," X "),t.qZA(),t.YNc(10,M,18,4,"ng-template",20,21,t.W1O),t.qZA()}if(2&e){const n=a.$implicit,o=a.index;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Q6J("src",n.imgPath,t.LSH),t.xp6(1),t.MGl("name","amount",o,""),t.Q6J("ngModel",n.amount)}}function S(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(2,"p",7),t._uU(3,"Recipes"),t.qZA(),t.TgZ(4,"ul",8),t.YNc(5,Z,12,4,"li",9),t.TgZ(6,"li",10)(7,"span",11),t._uU(8),t.qZA()()(),t.TgZ(9,"button",12),t._uU(10," Go to payment "),t.qZA()()}if(2&e){const n=t.MAs(1),o=t.oxw();t.xp6(5),t.Q6J("ngForOf",o.recipes),t.xp6(3),t.hij("Total :",o.totalCost," "),t.xp6(1),t.Q6J("disabled",!n.valid)}}function P(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"app-payment",36)(1,"div",37)(2,"div",38)(3,"p",39),t._uU(4,"Payment Details"),t.qZA(),t.TgZ(5,"div",40)(6,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(n);const i=t.MAs(7),r=t.oxw(2);return t.KtG(r.onSubmitPay(i))}),t.TgZ(8,"div",1)(9,"div",41)(10,"p",42),t._uU(11,"Name"),t.qZA(),t._UZ(12,"input",43),t.qZA()(),t.TgZ(13,"div",1)(14,"div",41)(15,"p",42),t._uU(16,"email"),t.qZA(),t._UZ(17,"input",44),t.qZA()(),t.TgZ(18,"div",1)(19,"div",41)(20,"p",42),t._uU(21,"Card number"),t.qZA(),t._UZ(22,"input",45),t.qZA()(),t.TgZ(23,"div",46)(24,"button",47),t._uU(25),t.qZA(),t.TgZ(26,"button",48),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.cancelPay())}),t._uU(27," Cancel Payment "),t.qZA()()()()()()()}if(2&e){const n=t.oxw(2);t.xp6(25),t.hij(" Pay $",n.totalCost," ")}}function T(e,a){if(1&e&&(t.TgZ(0,"div",34)(1,"div",1),t.YNc(2,P,28,1,"app-payment",35),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",0!=n.recipes.length)}}let O=(()=>{class e{constructor(n){this.modalService=n,this.route=(0,t.f3M)(l.gz),this.ingredients=[],this.recipes=[],this.shopPost=(0,t.f3M)(g.z),this.totalCost=0,this.ShoppingService=(0,t.f3M)(h._),this.subscription=[],this.dataPost=(0,t.f3M)(g.z),this.prevShopList=[],this.pay=!1}ngOnInit(){this.ingredients=this.ShoppingService.getIngredients(),this.recipes=this.ShoppingService.getRecipes(),this.recipes=this.route.snapshot.data.recipes,this.subscription.push(this.ShoppingService.IngredientsSub.subscribe(n=>{this.ingredients=n})),this.subscription.push(this.ShoppingService.RDIngredientsSub.subscribe(n=>{(null!=n||null!=n)&&this.ShoppingService.addNewIngredients(n)})),this.subscription.push(this.ShoppingService.recipesSubject.subscribe(n=>{this.recipes=n}))}passIndex(n){this.ShoppingService.storeIngredientIndex.next(n)}calcTotalCost(){let n=0;for(let o of this.recipes)n+=o.amount*o.price;this.totalCost=n,console.log(n)}onSubmit(){this.pay=!0,this.calcTotalCost(),this.form.reset()}cancelPay(){this.totalCost=0,this.pay=!1}removeItem(n){this.ShoppingService.removeItem(n),this.shopPost.postData()}openModal(n,o){this.modalRef=this.modalService.show(o)}onSubmitPay(n){console.log(n.value)}logRecipes(){console.log(this.recipes)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(d.tT))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-shopping-list"]],viewQuery:function(o,i){if(1&o&&(t.Gf(x,5),t.Gf(C,5)),2&o){let r;t.iGM(r=t.CRH())&&(i.amount=r.first),t.iGM(r=t.CRH())&&(i.form=r.first)}},decls:8,vars:3,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["class","row mb-5 mt-4",4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"h3","mb-3"],[1,"list-group"],["width","100%","class","list-group-item d-flex justify-content-between align-items-center col-12 hstack gap-2",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"rounded-4"],["type","submit","routerLink","payment",1,"btn","btn-success","mt-3",3,"disabled"],["width","100%",1,"list-group-item","d-flex","justify-content-between","align-items-center","col-12","hstack","gap-2"],[1,"center"],[1,"img"],["alt","","width","70px ",1,"rounded-2","center-img","offset-3","ul-img",3,"src"],["required","","placeholder","amount","type","number","pattern","^[1-9]+[0-9]*$","width","30px",1,"form-control","offset-4","amount",2,"width","100px",3,"ngModel","name","ngModelChange","input"],["type","button",1,"btn","btn-outline-success","preview",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["class","modal-dialog"],["template",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"mt-2","mb-3","hstack","gap-3","d-flex","align-items-center"],[1,"float-strat"],["width","80px","alt","responsive-image",1,"float-end","offset-5","rounded-3",3,"src"],["class","li list-group-item",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"badge","bg-danger"],[1,"li","list-group-item"],[1,"row","mb-5","mt-4"],["class","mb-5",4,"ngIf"],[1,"mb-5"],[1,"container","p-0"],[1,"card","px-4"],[1,"h8","py-3"],[1,"row","gx-3"],[1,"form-group","d-flex","flex-column"],[1,"text","mb-1"],["type","text","required","","ngModel","","name","userName","placeholder","Name",1,"form-control","mb-3"],["placeholder","email","required","","ngModel","","name","email","email","","type","email",1,"form-control","mb-3"],["type","password","placeholder","card","ngModel","","name","cardNumber",1,"form-control","mb-3","pt-2"],[1,"col-12","d-flex","justify-content-between","align-items-center"],["type","submit",1,"btn","btn-primary","rounded-3","mb-3"],["type","button",1,"btn","btn-primary","rounded-3","mb-3",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,y,2,0,"p",2),t.YNc(3,S,11,3,"form",3),t.qZA()(),t.YNc(4,T,3,1,"div",4),t.TgZ(5,"div",0)(6,"div",1),t._UZ(7,"router-outlet"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf",0==i.recipes.length),t.xp6(1),t.Q6J("ngIf",0!=i.recipes.length),t.xp6(1),t.Q6J("ngIf",i.pay))},dependencies:[u.sg,u.O5,p._Y,p.Fj,p.wV,p.JJ,p.JL,p.Q7,p.c5,p.on,p.On,p.F,l.lC,l.rH,_],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap";.center[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);left:3px}.center-img[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);left:4%}.modal-dialog[_ngcontent-%COMP%], ng-template[_ngcontent-%COMP%]{max-width:1080px}.center-amount[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);left:0}@media (max-width: 700px){form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .preview[_ngcontent-%COMP%]{visibility:hidden}}app-payment[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}app-payment[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#0c4160;padding:30px 10px}app-payment[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:500px;margin:auto;color:#000;border-radius:20px}app-payment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}app-payment[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .h8[_ngcontent-%COMP%]{font-size:30px;font-weight:800;text-align:center}app-payment[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#eee;border:2px solid transparent;height:60px;padding-left:20px;vertical-align:middle;caret-color:#000}app-payment[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border:2px solid #2d4dda;box-shadow:none}app-payment[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], [_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:600}']})}return e})();var f=s(892),w=s(7190);let A=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[w.m,d.zk.forRoot(),l.Bz.forChild([{path:"",component:O,canActivate:[f.p2],resolve:{recipes:f.qz},children:[{path:"payment",component:_}]}])]})}return e})()}}]);